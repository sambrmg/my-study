<!DOCTYPE html>
<html>
  <head>
    <style>
       #map {
        height: 400px;
        width: 100%;
       }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
      var infowindow = [];
        var marker = [];
      function initMap() {
        var center = {lat: -33.890542, lng: 151.274856};
        

        var beaches = [
          ['Bondi Beach', -33.890542, 151.274856, 4],
          ['Coogee Beach', -33.923036, 151.259052, 5],
          ['Cronulla Beach', -34.028249, 151.157507, 3],
          ['Manly Beach', -33.80010128657071, 151.28747820854187, 2],
          ['Maroubra Beach', -33.950198, 151.259302, 1]
        ];

        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 10,
          center: center
        });

        google.maps.event.addListener(map, 'click', function(event) {
          console.log(event);
          new google.maps.Marker({
            position: event.latLng,
            map: map
          });
        });

        for (var i = 0; i < beaches.length; i++) {
          var beach = beaches[i];

          infowindow[i] = new google.maps.InfoWindow({
            content: '<p>teste</p>'+i
          });
          

          marker[i] = new google.maps.Marker({
            position: {lat: beach[1], lng: beach[2]},
            map: map
          });
          console.log(infowindow[i]);

          google.maps.event.addDomListener(marker[i], 'click', function() {
            infowindow[i].open(map, marker[i]);
          });
        }
        
      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAZym7_owHRpJ1gYvV9IlT7enwnYgOsuA4&callback=initMap">
    </script>
  </body>
</html>